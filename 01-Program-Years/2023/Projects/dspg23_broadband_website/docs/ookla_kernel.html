<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Impact of Rural Broadband Development Programs</title>

<script src="site_libs/header-attrs-2.21/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.0/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.0/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"><img id='dspg' class='center' src = 'img/black-logo.png' /></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">Overview</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Data Processing
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="geocoding.html">Geocoding</a>
    </li>
    <li>
      <a href="webscrapping.html">Web Scraping</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="ookla_kernel.html">Ookla Imputation</a>
    </li>
    <li>
      <a href="predictive_model.html">Predictive Model</a>
    </li>
    <li>
      <a href="did.html">Matching</a>
    </li>
    <li>
      <a href="findings.html">Findings</a>
    </li>
  </ul>
</li>
<li>
  <a href="team.html">Team</a>
</li>
<li>
  <a href="https://github.com/DSPG-Young-Scholars-Program/dspg23_broadband_website">
    <span class="fa fa-github"></span>
     
    
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Impact of Rural Broadband Development
Programs</h1>
<h3 class="subtitle">Analysis - Ookla Kernel</h3>

</div>


<div id="ookla-data-overview" class="section level1">
<h1>Ookla data overview</h1>
<p><a href="https://www.speedtest.net/">Ookla</a> provides world-wide
internet speed testing services, and record the geographic location and
date of each speed test performed. For privacy concerns, we only
accessed the aggregated data, in the form of the average download speed
by all tests performed within a 600-by-600-meter tile. A visualized
example is included below.</p>
<div class="float">
<img src="img/ookla_raw.png"
alt="Map of raw Ookla data near the sample project area" />
<div class="figcaption">Map of raw Ookla data near the sample project
area</div>
</div>
<p>Since the ReConnect project aims to serve rural communities, and
rural areas tend to have low population density, our speed testing data
record in the areas of interest are sparse. Thus, many properties we
selected do not fall exactly in a tile with Ookla data. We thus need to
estimate the distribution of internet speed, based on these discrete
tiles.</p>
</div>
<div id="kernel-smoothing" class="section level1">
<h1>Kernel Smoothing</h1>
<p>A <a
href="https://en.wikipedia.org/wiki/Kernel_(statistics)">kernel</a>
function is a function of distance from the point to be estimated and
the existing data points. For each property whose Ookla test speed needs
to be estimated, we can use the kernel function to generate weights for
each Ookla data point, and the estimated value will be the weighted mean
of all entries in the Ookla dataset. With a Gaussian kernel, as a data
point becomes farther, its weight decreases exponentially.</p>
<p>We implemented a Gaussian kernel on the properties in the sample
project and its surrounding buffer zone with the 2019 and 2021 Ookla
data. We plot the results below. For each tile, denote the distance
between the <span class="math inline">\(i\)</span>th tile and the
property as <span class="math inline">\(D_i\)</span>. The weight of the
<span class="math inline">\(i\)</span>th tile, <span
class="math inline">\(W_i\)</span>, is calculated as <span
class="math inline">\(W_i = e^{-\frac{D_i}{\phi}}\)</span>. The imputed
Ookla speed for a specific property is then calculated as</p>
<p><span class="math display">\[
ImputedSpeed = \frac{\sum W_i * Devices * TileSpeed_i}{\sum W_i}
\]</span></p>
<div class="float">
<img src="img/ookla_fitted.png"
alt="Map of smoothed Ookla results for the sample project" />
<div class="figcaption">Map of smoothed Ookla results for the sample
project</div>
</div>
</div>
<div id="cross-validation" class="section level1">
<h1>Cross Validation</h1>
<p>In the Gaussian kernel function, there is a parameter that needs to
be tuned, which is <span class="math inline">\(\phi\)</span>. This is
analoguous to the <span class="math inline">\(\sigma\)</span> in a
normal distribution function. To choose the best value of this parameter
for the kernel smoothing function, we ran a 5-fold cross validation on
the Ookla dataset in 2021. We randomly divided the dataset into five
subsets. Each subset was used as a validation set while the rest four
were combined into a training set. We chose the parameter that minimized
the average Root Mean Squared Error(RMSE). In the graph above, we fitted
the kernel with <span class="math inline">\(\phi\)</span> being 1,000
meters.</p>
</div>

<hr />
<div>
  <table style="text-align:center;margin: auto;">
  <tr>
    <td style="text-align:center; font-size:10px;">
    <img src="img/black-logo.png" height="75px">
    </td>
  </tr>
  <tr>
    <td style="text-align:center; font-size:10px; padding-top: 12px;">
    <p>
      Program Contacts:
    <a href="mailto:jt9sz@virginia.edu">Joel Thurston</a> and <a href="mailto:cpm9w@virginia.edu">Cesar Montalvo</a>
    </p>
    </td>
  </tr>
  </table>
</div>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
